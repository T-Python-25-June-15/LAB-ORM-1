{% extends 'base.html' %}

{% block content %}
    <h2>Latest Posts</h2>
    <ul>
        {% for post in posts %}
            <li style="display: flex; align-items: center; margin-bottom: 20px;">
                {% if post.media %}
                    <img src="{{ post.media.url }}" alt="{{ post.title }}">
                {% endif %}
                <div>
                    <h3>{{ post.title }}</h3>
                    <p>{{ post.content|truncatewords:30 }}</p>
                    <small>Published at {{ post.published_at }}</small>
                    <div>
                        <a href="{% url 'update_post' post.id %} "class= "update-btn" onclick="return confirm('you  want update this post?')">Edit</a>
                        <a href="{% url 'delete_post' post.id %}" class="delete-btn"  onclick="return confirm('Are you sure you want to delete this post?')">Delete</a>
                        <a href="{% url 'details_post' post.id %}" class="details-btn">Details</a>
                    </div>
                </div>
            </li>
        {% endfor %}
    </ul>
{% endblock %}
